/* Global Dark Mode Fixes for All Mantine Components */

/* Paper and Card components */
[data-mantine-color-scheme="dark"] .mantine-Paper-root,
[data-mantine-color-scheme="dark"] .mantine-Card-root {
  background-color: var(--mantine-color-dark-6) !important;
  border-color: var(--mantine-color-dark-4) !important;
  color: var(--mantine-color-white) !important;
}

/* Text components */
[data-mantine-color-scheme="dark"] .mantine-Text-root {
  color: var(--mantine-color-white) !important;
}

[data-mantine-color-scheme="dark"] .mantine-Text-root[data-dimmed],
[data-mantine-color-scheme="dark"] .mantine-Text-root[c="dimmed"] {
    color: var(--mantine-color-gray-3) !important;
}

[data-mantine-color-scheme="dark"] .mantine-Title-root {
  color: var(--mantine-color-white) !important;
}

/* Input components */
[data-mantine-color-scheme="dark"] .mantine-TextInput-input,
[data-mantine-color-scheme="dark"] .mantine-PasswordInput-input,
[data-mantine-color-scheme="dark"] .mantine-Textarea-input,
[data-mantine-color-scheme="dark"] .mantine-NumberInput-input,
[data-mantine-color-scheme="dark"] .mantine-Select-input {
  background-color: var(--mantine-color-dark-7) !important;
  border-color: var(--mantine-color-dark-4) !important;
  color: var(--mantine-color-white) !important;
}

[data-mantine-color-scheme="dark"] .mantine-TextInput-input::placeholder,
[data-mantine-color-scheme="dark"] .mantine-PasswordInput-input::placeholder,
[data-mantine-color-scheme="dark"] .mantine-Textarea-input::placeholder,
[data-mantine-color-scheme="dark"] .mantine-NumberInput-input::placeholder,
[data-mantine-color-scheme="dark"] .mantine-Select-input::placeholder {
  color: var(--mantine-color-gray-5) !important;
}

/* Input labels */
[data-mantine-color-scheme="dark"] .mantine-InputWrapper-label {
  color: var(--mantine-color-gray-2) !important;
}

/* Button components */
[data-mantine-color-scheme="dark"] .mantine-Button-root[data-variant="default"] {
  background-color: var(--mantine-color-dark-6) !important;
  color: var(--mantine-color-white) !important;
  border-color: var(--mantine-color-dark-4) !important;
}

[data-mantine-color-scheme="dark"] .mantine-Button-root[data-variant="subtle"] {
  background-color: transparent !important;
  color: var(--mantine-color-white) !important;
}

[data-mantine-color-scheme="dark"] .mantine-Button-root[data-variant="subtle"]:hover {
  background-color: var(--mantine-color-dark-5) !important;
}

/* Menu and Dropdown components */
[data-mantine-color-scheme="dark"] .mantine-Menu-dropdown,
[data-mantine-color-scheme="dark"] .mantine-Select-dropdown,
[data-mantine-color-scheme="dark"] .mantine-Popover-dropdown {
  background-color: var(--mantine-color-dark-6) !important;
  border-color: var(--mantine-color-dark-4) !important;
}

[data-mantine-color-scheme="dark"] .mantine-Menu-item,
[data-mantine-color-scheme="dark"] .mantine-Select-option {
  color: var(--mantine-color-white) !important;
}

[data-mantine-color-scheme="dark"] .mantine-Menu-item:hover,
[data-mantine-color-scheme="dark"] .mantine-Select-option:hover,
[data-mantine-color-scheme="dark"] .mantine-Menu-item[data-hovered] {
  background-color: var(--mantine-color-dark-5) !important;
}

[data-mantine-color-scheme="dark"] .mantine-Menu-label {
  color: var(--mantine-color-gray-3) !important;
}

[data-mantine-color-scheme="dark"] .mantine-Menu-divider {
  border-color: var(--mantine-color-dark-4) !important;
}

/* Table components */
[data-mantine-color-scheme="dark"] .mantine-Table-table {
  background-color: var(--mantine-color-dark-7) !important;
  color: var(--mantine-color-white) !important;
}

[data-mantine-color-scheme="dark"] .mantine-Table-th {
  background-color: var(--mantine-color-dark-6) !important;
  color: var(--mantine-color-white) !important;
  border-color: var(--mantine-color-dark-4) !important;
}

[data-mantine-color-scheme="dark"] .mantine-Table-td {
  border-color: var(--mantine-color-dark-4) !important;
  color: var(--mantine-color-white) !important;
}

[data-mantine-color-scheme="dark"] .mantine-Table-tr:hover {
  background-color: var(--mantine-color-dark-6) !important;
}

/* Modal components */
[data-mantine-color-scheme="dark"] .mantine-Modal-content {
  background-color: var(--mantine-color-dark-6) !important;
}

[data-mantine-color-scheme="dark"] .mantine-Modal-header {
  background-color: var(--mantine-color-dark-6) !important;
  color: var(--mantine-color-white) !important;
  border-color: var(--mantine-color-dark-4) !important;
}

[data-mantine-color-scheme="dark"] .mantine-Modal-body {
  background-color: var(--mantine-color-dark-6) !important;
  color: var(--mantine-color-white) !important;
}

/* Navigation components */
[data-mantine-color-scheme="dark"] .mantine-NavLink-root {
  color: var(--mantine-color-white) !important;
}

[data-mantine-color-scheme="dark"] .mantine-NavLink-root:hover {
  background-color: var(--mantine-color-dark-5) !important;
}

[data-mantine-color-scheme="dark"] .mantine-NavLink-root[data-active] {
  background-color: var(--mantine-color-teal-9) !important;
  color: var(--mantine-color-white) !important;
}

/* AppShell components */
[data-mantine-color-scheme="dark"] .mantine-AppShell-navbar {
  background-color: var(--mantine-color-dark-7) !important;
  border-color: var(--mantine-color-dark-4) !important;
}

[data-mantine-color-scheme="dark"] .mantine-AppShell-main {
  background-color: var(--mantine-color-dark-8) !important;
}

[data-mantine-color-scheme="dark"] .mantine-AppShell-header {
  background-color: var(--mantine-color-dark-7) !important;
  border-color: var(--mantine-color-dark-4) !important;
}

/* Divider components */
[data-mantine-color-scheme="dark"] .mantine-Divider-root {
  border-color: var(--mantine-color-dark-4);
}

/* Use :where() for lower specificity so component styles can override */
[data-mantine-color-scheme="dark"] :where(.mantine-Divider-label) {
  background-color: var(--mantine-color-dark-6);
  color: var(--mantine-color-gray-3);
}

/* Badge components */
[data-mantine-color-scheme="dark"] .mantine-Badge-root[data-variant="outline"] {
  background-color: transparent !important;
  border-color: var(--mantine-color-dark-4) !important;
  color: var(--mantine-color-white) !important;
}

/* Alert components - preserve colored alerts */
[data-mantine-color-scheme="dark"]
  .mantine-Alert-root:not([data-color="red"]):not([data-color="yellow"]):not(
    [data-color="green"]
  ):not([data-color="blue"]) {
  background-color: var(--mantine-color-dark-6) !important;
  border-color: var(--mantine-color-dark-4) !important;
  color: var(--mantine-color-white) !important;
}

/* Ensure red alerts work properly in dark mode - multiple selectors for compatibility */
[data-mantine-color-scheme="dark"] .mantine-Alert-root[data-color="red"],
[data-mantine-color-scheme="dark"] .mantine-Alert-root[data-variant="light"][data-color="red"],
[data-mantine-color-scheme="dark"] .mantine-Alert-root.mantine-Alert--red,
[data-mantine-color-scheme="dark"] .mantine-Alert-root.mantine-Alert-light-red {
  background-color: rgba(255, 107, 107, 0.15) !important;
  border-color: var(--mantine-color-red-6) !important;
  color: var(--mantine-color-red-4) !important;
}

/* Force red alert icon color */
[data-mantine-color-scheme="dark"] .mantine-Alert-root[data-color="red"] .mantine-Alert-icon,
[data-mantine-color-scheme="dark"]
  .mantine-Alert-root[data-variant="light"][data-color="red"]
  .mantine-Alert-icon,
[data-mantine-color-scheme="dark"] .mantine-Alert-root.mantine-Alert--red .mantine-Alert-icon,
[data-mantine-color-scheme="dark"] .mantine-Alert-root.mantine-Alert-light-red .mantine-Alert-icon {
  color: var(--mantine-color-red-5) !important;
}

/* Checkbox and Radio components */
[data-mantine-color-scheme="dark"] .mantine-Checkbox-input,
[data-mantine-color-scheme="dark"] .mantine-Radio-input {
  background-color: var(--mantine-color-dark-7) !important;
  border-color: var(--mantine-color-dark-4) !important;
}

/* Stepper components */
[data-mantine-color-scheme="dark"] .mantine-Stepper-step {
  background-color: var(--mantine-color-dark-6) !important;
  border-color: var(--mantine-color-dark-4) !important;
}

[data-mantine-color-scheme="dark"] .mantine-Stepper-stepIcon {
  background-color: var(--mantine-color-dark-5) !important;
  color: var(--mantine-color-gray-3) !important;
}

/* Focus states */
[data-mantine-color-scheme="dark"] .mantine-TextInput-input:focus,
[data-mantine-color-scheme="dark"] .mantine-PasswordInput-input:focus,
[data-mantine-color-scheme="dark"] .mantine-Textarea-input:focus,
[data-mantine-color-scheme="dark"] .mantine-NumberInput-input:focus,
[data-mantine-color-scheme="dark"] .mantine-Select-input:focus {
  border-color: var(--mantine-color-blue-5) !important;
  background-color: var(--mantine-color-dark-8) !important;
}

/* Accordion components */
[data-mantine-color-scheme="dark"] .mantine-Accordion-item {
  background-color: var(--mantine-color-dark-6) !important;
  border-color: var(--mantine-color-dark-4) !important;
}

[data-mantine-color-scheme="dark"] .mantine-Accordion-control {
  background-color: var(--mantine-color-dark-6) !important;
  color: var(--mantine-color-white) !important;
}

[data-mantine-color-scheme="dark"] .mantine-Accordion-panel {
  background-color: var(--mantine-color-dark-6) !important;
  color: var(--mantine-color-white) !important;
}

/* Tabs components */
[data-mantine-color-scheme="dark"] .mantine-Tabs-tab {
  color: var(--mantine-color-gray-3) !important;
}

[data-mantine-color-scheme="dark"] .mantine-Tabs-tab[data-active] {
  color: var(--mantine-color-white) !important;
  border-color: var(--mantine-color-teal-6) !important;
}

/* Pagination components */
[data-mantine-color-scheme="dark"] .mantine-Pagination-control {
  background-color: var(--mantine-color-dark-6) !important;
  color: var(--mantine-color-white) !important;
  border-color: var(--mantine-color-dark-4) !important;
}

[data-mantine-color-scheme="dark"] .mantine-Pagination-control:hover {
  background-color: var(--mantine-color-dark-5) !important;
}

[data-mantine-color-scheme="dark"] .mantine-Pagination-control[data-active] {
  background-color: var(--mantine-color-teal-6) !important;
  color: var(--mantine-color-white) !important;
}
